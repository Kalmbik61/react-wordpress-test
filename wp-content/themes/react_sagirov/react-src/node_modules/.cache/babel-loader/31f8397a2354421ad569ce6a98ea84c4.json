{"ast":null,"code":"import _regeneratorRuntime from\"/Applications/MAMP/htdocs/textTasks/wordpress-savigor/wp-content/themes/react_sagirov/react-src/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Applications/MAMP/htdocs/textTasks/wordpress-savigor/wp-content/themes/react_sagirov/react-src/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Applications/MAMP/htdocs/textTasks/wordpress-savigor/wp-content/themes/react_sagirov/react-src/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";var TemplateDb=function TemplateDb(){var _this=this;_classCallCheck(this,TemplateDb);this.getRes=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(url){var res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"\".concat(_this._apiBase).concat(url));case 2:res=_context.sent;if(res.ok){_context.next=5;break;}throw new Error(\"Could not fetch \".concat(url,\", status : \").concat(res.status));case 5:return _context.abrupt(\"return\",res.json());case 6:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}();this.getMedia=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var res;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return _this.getRes(\"wp/v2/media/16\");case 2:res=_context2.sent;return _context2.abrupt(\"return\",res);case 4:case\"end\":return _context2.stop();}}},_callee2);}));this.getPosts=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){var res;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return _this.getRes(\"wp/v2/posts\");case 2:res=_context3.sent;return _context3.abrupt(\"return\",res);case 4:case\"end\":return _context3.stop();}}},_callee3);}));this.getMenu=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(){var res;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return _this.getRes(\"wp-api-menus/v2/menus/4\");case 2:res=_context4.sent;return _context4.abrupt(\"return\",res);case 4:case\"end\":return _context4.stop();}}},_callee4);}));this._apiBase=\"http://localhost:8888/textTasks/wordpress-savigor/wp-json/\";};export{TemplateDb as default};","map":{"version":3,"sources":["/Applications/MAMP/htdocs/textTasks/wordpress-savigor/wp-content/themes/react_sagirov/react-src/src/services/sagirov_service.js"],"names":["TemplateDb","getRes","url","fetch","_apiBase","res","ok","Error","status","json","getMedia","getPosts","getMenu"],"mappings":"ooBAAqBA,CAAAA,U,CACnB,qBAAc,sDAIdC,MAJc,0FAIL,iBAAOC,GAAP,gJACWC,CAAAA,KAAK,WAAI,KAAI,CAACC,QAAT,SAAoBF,GAApB,EADhB,QACDG,GADC,kBAEFA,GAAG,CAACC,EAFF,8BAGC,IAAIC,CAAAA,KAAJ,2BAA6BL,GAA7B,uBAA8CG,GAAG,CAACG,MAAlD,EAHD,wCAKAH,GAAG,CAACI,IAAJ,EALA,wDAJK,oEAYdC,QAZc,sEAYH,uKACS,CAAA,KAAI,CAACT,MAAL,CAAY,gBAAZ,CADT,QACHI,GADG,iDAEFA,GAFE,0DAZG,QAgBdM,QAhBc,sEAgBH,uKACS,CAAA,KAAI,CAACV,MAAL,CAAY,aAAZ,CADT,QACHI,GADG,iDAEFA,GAFE,0DAhBG,QAoBdO,OApBc,sEAoBJ,uKACU,CAAA,KAAI,CAACX,MAAL,CAAY,yBAAZ,CADV,QACFI,GADE,iDAEDA,GAFC,0DApBI,GACZ,KAAKD,QAAL,CACE,4DADF,CAED,C,QAJkBJ,U","sourcesContent":["export default class TemplateDb {\n  constructor() {\n    this._apiBase =\n      \"http://localhost:8888/textTasks/wordpress-savigor/wp-json/\";\n  }\n  getRes = async (url) => {\n    const res = await fetch(`${this._apiBase}${url}`);\n    if (!res.ok) {\n      throw new Error(`Could not fetch ${url}, status : ${res.status}`);\n    }\n    return res.json();\n  };\n\n  getMedia = async () => {\n    const res = await this.getRes(\"wp/v2/media/16\");\n    return res;\n  };\n  getPosts = async () => {\n    const res = await this.getRes(\"wp/v2/posts\");\n    return res;\n  };\n  getMenu = async () => {\n    const res = await this.getRes(\"wp-api-menus/v2/menus/4\");\n    return res;\n  };\n}\n"]},"metadata":{},"sourceType":"module"}