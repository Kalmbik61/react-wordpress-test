{"ast":null,"code":"import _classCallCheck from\"/Applications/MAMP/htdocs/textTasks/wordpress-savigor/wp-content/themes/react_sagirov/react-src/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Applications/MAMP/htdocs/textTasks/wordpress-savigor/wp-content/themes/react_sagirov/react-src/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Applications/MAMP/htdocs/textTasks/wordpress-savigor/wp-content/themes/react_sagirov/react-src/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Applications/MAMP/htdocs/textTasks/wordpress-savigor/wp-content/themes/react_sagirov/react-src/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import renderHTML from\"react-render-html\";import{Spinner}from\"react-bootstrap\";// import Left from \"../left/left\";\n// import Right from \"../right/right\";\nimport\"./main.css\";var Main=/*#__PURE__*/function(_Component){_inherits(Main,_Component);var _super=_createSuper(Main);function Main(props){var _this;_classCallCheck(this,Main);_this=_super.call(this,props);_this.state={error:false,loading:false,posts:[]};return _this;}_createClass(Main,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;this.setState({loading:true},function(){_this2.props.service.getPosts().then(function(response){_this2.setState({loading:false,posts:response});}).catch(function(error){_this2.setState({error:true,loading:false});});});}},{key:\"isLoading\",value:function isLoading(loading){if(!loading){return;}return/*#__PURE__*/React.createElement(Spinner,{animation:\"grow\",variant:\"warning\"});}},{key:\"isError\",value:function isError(error){if(!error){return;}return/*#__PURE__*/React.createElement(\"div\",{className:\"card text-white bg-danger mb-3\"},/*#__PURE__*/React.createElement(\"div\",{className:\"card-header\"},\"ERROR\"),/*#__PURE__*/React.createElement(\"div\",{className:\"card-body\"},/*#__PURE__*/React.createElement(\"h4\",{className:\"card-title\"},\"\\u041F\\u0440\\u043E\\u0438\\u0437\\u043E\\u0448\\u043B\\u0430 \\u043E\\u0448\\u0438\\u0431\\u043A\\u0430\"),/*#__PURE__*/React.createElement(\"p\",{className:\"card-text\"},\"\\u041F\\u0440\\u043E\\u0438\\u0437\\u043E\\u0448\\u043B\\u0430 \\u043E\\u0448\\u0438\\u0431\\u043A\\u0430 \\u0432 \\u0437\\u0430\\u0433\\u0440\\u0443\\u0437\\u043A\\u0435 \\u0444\\u0430\\u0439\\u043B\\u043E\\u0432. \\u041F\\u043E\\u0436\\u0430\\u043B\\u0443\\u0439\\u0441\\u0442\\u0430, \\u043F\\u043E\\u0432\\u0442\\u043E\\u0440\\u0438\\u0442\\u0435 \\u043F\\u043E\\u0437\\u0434\\u043D\\u0435\\u0435\")));}},{key:\"render\",value:function render(){var _this$state=this.state,posts=_this$state.posts,loading=_this$state.loading,error=_this$state.error;var spinner=this.isLoading(loading),isErr=this.isError(error);return/*#__PURE__*/React.createElement(\"div\",{className:\"container\",style:{paddingTop:100}},spinner,isErr,/*#__PURE__*/React.createElement(\"div\",{className:\"row justify-content-between m-auto\"},posts.map(function(post){return/*#__PURE__*/React.createElement(\"div\",{key:post.id},renderHTML(post.content.rendered));})));}}]);return Main;}(Component);export{Main as default};","map":{"version":3,"sources":["/Applications/MAMP/htdocs/textTasks/wordpress-savigor/wp-content/themes/react_sagirov/react-src/src/components/pages/main.js"],"names":["React","Component","renderHTML","Spinner","Main","props","state","error","loading","posts","setState","service","getPosts","then","response","catch","spinner","isLoading","isErr","isError","paddingTop","map","post","id","content","rendered"],"mappings":"w0BAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,CAAAA,UAAP,KAAuB,mBAAvB,CACA,OAASC,OAAT,KAAwB,iBAAxB,CACA;AACA;AAEA,MAAO,YAAP,C,GAEqBC,CAAAA,I,4FACnB,cAAYC,KAAZ,CAAmB,sCACjB,uBAAMA,KAAN,EACA,MAAKC,KAAL,CAAa,CACXC,KAAK,CAAE,KADI,CAEXC,OAAO,CAAE,KAFE,CAGXC,KAAK,CAAE,EAHI,CAAb,CAFiB,aAOlB,C,8EAEmB,iBAClB,KAAKC,QAAL,CAAc,CAAEF,OAAO,CAAE,IAAX,CAAd,CAAiC,UAAM,CACrC,MAAI,CAACH,KAAL,CAAWM,OAAX,CACGC,QADH,GAEGC,IAFH,CAEQ,SAACC,QAAD,CAAc,CAClB,MAAI,CAACJ,QAAL,CAAc,CAAEF,OAAO,CAAE,KAAX,CAAkBC,KAAK,CAAEK,QAAzB,CAAd,EACD,CAJH,EAKGC,KALH,CAKS,SAACR,KAAD,CAAW,CAChB,MAAI,CAACG,QAAL,CAAc,CAAEH,KAAK,CAAE,IAAT,CAAeC,OAAO,CAAE,KAAxB,CAAd,EACD,CAPH,EAQD,CATD,EAUD,C,4CAESA,O,CAAS,CACjB,GAAI,CAACA,OAAL,CAAc,CACZ,OACD,CACD,mBAAO,oBAAC,OAAD,EAAS,SAAS,CAAC,MAAnB,CAA0B,OAAO,CAAC,SAAlC,EAAP,CACD,C,wCACOD,K,CAAO,CACb,GAAI,CAACA,KAAL,CAAY,CACV,OACD,CACD,mBACE,2BAAK,SAAS,CAAC,gCAAf,eACE,2BAAK,SAAS,CAAC,aAAf,UADF,cAEE,2BAAK,SAAS,CAAC,WAAf,eACE,0BAAI,SAAS,CAAC,YAAd,gGADF,cAEE,yBAAG,SAAS,CAAC,WAAb,8VAFF,CAFF,CADF,CAWD,C,uCAEQ,iBAC2B,KAAKD,KADhC,CACCG,KADD,aACCA,KADD,CACQD,OADR,aACQA,OADR,CACiBD,KADjB,aACiBA,KADjB,CAEP,GAAMS,CAAAA,OAAO,CAAG,KAAKC,SAAL,CAAeT,OAAf,CAAhB,CACEU,KAAK,CAAG,KAAKC,OAAL,CAAaZ,KAAb,CADV,CAEA,mBACE,2BAAK,SAAS,CAAC,WAAf,CAA2B,KAAK,CAAE,CAAEa,UAAU,CAAE,GAAd,CAAlC,EACGJ,OADH,CAEGE,KAFH,cAGE,2BAAK,SAAS,CAAC,oCAAf,EACGT,KAAK,CAACY,GAAN,CAAU,SAACC,IAAD,CAAU,CACnB,mBAAO,2BAAK,GAAG,CAAEA,IAAI,CAACC,EAAf,EAAoBrB,UAAU,CAACoB,IAAI,CAACE,OAAL,CAAaC,QAAd,CAA9B,CAAP,CACD,CAFA,CADH,CAHF,CADF,CAWD,C,kBA7D+BxB,S,SAAbG,I","sourcesContent":["import React, { Component } from \"react\";\nimport renderHTML from \"react-render-html\";\nimport { Spinner } from \"react-bootstrap\";\n// import Left from \"../left/left\";\n// import Right from \"../right/right\";\n\nimport \"./main.css\";\n\nexport default class Main extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      error: false,\n      loading: false,\n      posts: [],\n    };\n  }\n\n  componentDidMount() {\n    this.setState({ loading: true }, () => {\n      this.props.service\n        .getPosts()\n        .then((response) => {\n          this.setState({ loading: false, posts: response });\n        })\n        .catch((error) => {\n          this.setState({ error: true, loading: false });\n        });\n    });\n  }\n\n  isLoading(loading) {\n    if (!loading) {\n      return;\n    }\n    return <Spinner animation=\"grow\" variant=\"warning\" />;\n  }\n  isError(error) {\n    if (!error) {\n      return;\n    }\n    return (\n      <div className=\"card text-white bg-danger mb-3\">\n        <div className=\"card-header\">ERROR</div>\n        <div className=\"card-body\">\n          <h4 className=\"card-title\">Произошла ошибка</h4>\n          <p className=\"card-text\">\n            Произошла ошибка в загрузке файлов. Пожалуйста, повторите позднее\n          </p>\n        </div>\n      </div>\n    );\n  }\n\n  render() {\n    const { posts, loading, error } = this.state;\n    const spinner = this.isLoading(loading),\n      isErr = this.isError(error);\n    return (\n      <div className=\"container\" style={{ paddingTop: 100 }}>\n        {spinner}\n        {isErr}\n        <div className=\"row justify-content-between m-auto\">\n          {posts.map((post) => {\n            return <div key={post.id}>{renderHTML(post.content.rendered)}</div>;\n          })}\n        </div>\n      </div>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}